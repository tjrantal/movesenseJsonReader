apply plugin: 'java'

repositories {
    mavenCentral()
}

configurations {
    // configuration that holds jars to include in the jar
    extraLibs
}


dependencies {

    // https://mvnrepository.com/artifact/com.google.code.gson/gson
	implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.6'
	extraLibs group: 'com.google.code.gson', name: 'gson', version: '2.8.6'
	
	// https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple
	implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
	extraLibs group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
	
	configurations.compile.extendsFrom(configurations.extraLibs)
}


sourceCompatibility = 1.7
version = '1.0'
jar {
	manifest {
	  attributes	'Implementation-Title': name,
		         	'Implementation-Version': version
	}
	from {
		configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }
	}
}
